# -*- coding: utf-8 -*-
"""
Système de traductions pour Histoires Magiques
Support FR/EN avec switch automatique
"""

TRANSLATIONS = {
    'fr': {
        # Navigation
        'home': 'Accueil',
        'about': 'À propos',
        'contact': 'Contact',
        'privacy': 'Confidentialité',
        'terms': 'Conditions',
        'login': 'Connexion',
        'register': 'Inscription',
        'logout': 'Déconnexion',
        'dashboard': 'Mes histoires',
        
        # Hero Section
        'hero_title': 'Créez des histoires magiques personnalisées pour vos enfants',
        'hero_subtitle': 'Transformez l\'heure du coucher en moment extraordinaire avec des histoires uniques générées par IA, adaptées à votre enfant.',
        'hero_cta': 'Créer ma première histoire gratuite',
        'hero_cta_logged': 'Créer une nouvelle histoire',
        
        # How it works
        'how_it_works_title': 'Comment ça marche ?',
        'step1_title': 'Personnalisez',
        'step1_desc': 'Choisissez le nom, l\'âge, les préférences et la morale de l\'histoire pour votre enfant.',
        'step2_title': 'Générez',
        'step2_desc': 'Notre IA crée une histoire unique et captivante en quelques secondes.',
        'step3_title': 'Profitez',
        'step3_desc': 'Recevez un fichier audio MP3 et un livret PDF magnifiquement illustré, prêts pour l\'heure du coucher.',
        
        # Pricing
        'pricing_title': 'Choisissez votre formule',
        'plan_discovery': 'Découverte',
        'plan_starter': 'Starter',
        'plan_family': 'Family',
        'free': 'Gratuit',
        'forever': 'Pour toujours',
        'per_month': 'par mois',
        'choose_plan': 'Choisir',
        'start_free': 'Commencer gratuitement',
        
        # Plan features
        'feature_3_stories': '3 histoires gratuites',
        'feature_basic_custom': 'Personnalisation basique',
        'feature_pdf_only': 'Livret PDF uniquement',
        'feature_no_audio': 'Pas d\'audio (économie de coûts)',
        'feature_15_stories': '15 histoires avec audio/mois',
        'feature_30_stories': '30 histoires avec audio/mois',
        'feature_advanced_custom': 'Personnalisation avancée',
        'feature_premium_voices': 'Choix de voix premium',
        'feature_hq_audio': 'Audio MP3 haute qualité',
        'feature_illustrated_pdf': 'Livrets PDF illustrés',
        'feature_private_library': 'Bibliothèque privée',
        'feature_all_starter': 'Tout du plan Starter',
        'feature_5_children': 'Jusqu\'à 5 enfants',
        'feature_collaborative': 'Histoires collaboratives',
        'feature_priority_support': 'Support prioritaire',
        'feature_early_access': 'Accès anticipé aux nouveautés',
        
        # Story Creation
        'create_story_title': 'Créer une histoire magique',
        'create_story_subtitle': 'Personnalisez chaque détail pour créer une histoire unique pour votre enfant',
        'credits_remaining': 'Crédits restants',
        'free_plan_desc': 'Plan gratuit - {credits} histoire(s) gratuite(s) restante(s)',
        'child_name': 'Nom de l\'enfant',
        'child_name_placeholder': 'Ex: Emma, Lucas...',
        'child_age': 'Âge de l\'enfant',
        'choose_age': 'Choisir l\'âge',
        'age_3_5': '3-5 ans',
        'age_6_8': '6-8 ans',
        'age_9_12': '9-12 ans',
        'story_theme': 'Thème de l\'histoire',
        'choose_theme': 'Choisir un thème',
        'theme_adventure': 'Aventure',
        'theme_friendship': 'Amitié',
        'theme_nature': 'Nature',
        'theme_courage': 'Courage',
        'theme_family': 'Famille',
        'theme_magic': 'Magie',
        'character_type': 'Type de personnage principal',
        'choose_character': 'Choisir un personnage',
        'character_animals': 'Animaux',
        'character_humans': 'Humains',
        'character_fantasy': 'Créatures fantastiques',
        'moral_label': 'Morale ou valeur à transmettre',
        'moral_placeholder': 'Ex: L\'importance de l\'entraide, la persévérance, le respect de la nature...',
        'create_story_btn': 'Créer mon histoire magique',
        'back_home': 'Retour à l\'accueil',
        
        # Story Result
        'story_created': 'Votre histoire a été créée !',
        'download_pdf': 'Télécharger le PDF',
        'play_audio': 'Écouter l\'audio',
        'audio_not_available': 'Audio non disponible',
        'create_new_story': 'Créer une nouvelle histoire',
        
        # Footer
        'footer_tagline': 'Créez des souvenirs magiques avec vos enfants, une histoire à la fois.',
        'footer_copyright': 'Tous droits réservés.',
        
        # Auth
        'full_name': 'Nom complet',
        'email': 'Email',
        'password': 'Mot de passe',
        'create_account': 'Créer mon compte',
        'already_account': 'Déjà un compte ?',
        'no_account': 'Pas encore de compte ?',
        'sign_in': 'Se connecter',
        'sign_up': 'S\'inscrire',
        
        # Messages
        'account_created': 'Compte créé avec succès ! Vous avez 3 histoires gratuites.',
        'login_success': 'Connexion réussie !',
        'no_credits': 'Vous n\'avez plus de crédits gratuits. Abonnez-vous pour continuer.',
        'story_generated': 'Histoire générée avec succès !',
        
        # Language
        'language': 'Langue',
        'french': 'Français',
        'english': 'Anglais'
    },
    
    'en': {
        # Navigation
        'home': 'Home',
        'about': 'About',
        'contact': 'Contact',
        'privacy': 'Privacy',
        'terms': 'Terms',
        'login': 'Login',
        'register': 'Sign Up',
        'logout': 'Logout',
        'dashboard': 'My Stories',
        
        # Hero Section
        'hero_title': 'Create magical personalized stories for your children',
        'hero_subtitle': 'Transform bedtime into an extraordinary moment with unique AI-generated stories, tailored to your child.',
        'hero_cta': 'Create my first free story',
        'hero_cta_logged': 'Create a new story',
        
        # How it works
        'how_it_works_title': 'How does it work?',
        'step1_title': 'Personalize',
        'step1_desc': 'Choose the name, age, preferences and moral of the story for your child.',
        'step2_title': 'Generate',
        'step2_desc': 'Our AI creates a unique and captivating story in seconds.',
        'step3_title': 'Enjoy',
        'step3_desc': 'Receive an MP3 audio file and a beautifully illustrated PDF booklet, ready for bedtime.',
        
        # Pricing
        'pricing_title': 'Choose your plan',
        'plan_discovery': 'Discovery',
        'plan_starter': 'Starter',
        'plan_family': 'Family',
        'free': 'Free',
        'forever': 'Forever',
        'per_month': 'per month',
        'choose_plan': 'Choose',
        'start_free': 'Start for free',
        
        # Plan features
        'feature_3_stories': '3 free stories',
        'feature_basic_custom': 'Basic customization',
        'feature_pdf_only': 'PDF booklet only',
        'feature_no_audio': 'No audio (cost savings)',
        'feature_15_stories': '15 stories with audio/month',
        'feature_30_stories': '30 stories with audio/month',
        'feature_advanced_custom': 'Advanced customization',
        'feature_premium_voices': 'Premium voice selection',
        'feature_hq_audio': 'High-quality MP3 audio',
        'feature_illustrated_pdf': 'Illustrated PDF booklets',
        'feature_private_library': 'Private library',
        'feature_all_starter': 'Everything from Starter',
        'feature_5_children': 'Up to 5 children',
        'feature_collaborative': 'Collaborative stories',
        'feature_priority_support': 'Priority support',
        'feature_early_access': 'Early access to new features',
        
        # Story Creation
        'create_story_title': 'Create a magical story',
        'create_story_subtitle': 'Customize every detail to create a unique story for your child',
        'credits_remaining': 'Credits remaining',
        'free_plan_desc': 'Free plan - {credits} free story(ies) remaining',
        'child_name': 'Child\'s name',
        'child_name_placeholder': 'Ex: Emma, Lucas...',
        'child_age': 'Child\'s age',
        'choose_age': 'Choose age',
        'age_3_5': '3-5 years',
        'age_6_8': '6-8 years',
        'age_9_12': '9-12 years',
        'story_theme': 'Story theme',
        'choose_theme': 'Choose a theme',
        'theme_adventure': 'Adventure',
        'theme_friendship': 'Friendship',
        'theme_nature': 'Nature',
        'theme_courage': 'Courage',
        'theme_family': 'Family',
        'theme_magic': 'Magic',
        'character_type': 'Main character type',
        'choose_character': 'Choose a character',
        'character_animals': 'Animals',
        'character_humans': 'Humans',
        'character_fantasy': 'Fantasy creatures',
        'moral_label': 'Moral or value to convey',
        'moral_placeholder': 'Ex: The importance of helping others, perseverance, respect for nature...',
        'create_story_btn': 'Create my magical story',
        'back_home': 'Back to home',
        
        # Story Result
        'story_created': 'Your story has been created!',
        'download_pdf': 'Download PDF',
        'play_audio': 'Play audio',
        'audio_not_available': 'Audio not available',
        'create_new_story': 'Create a new story',
        
        # Footer
        'footer_tagline': 'Create magical memories with your children, one story at a time.',
        'footer_copyright': 'All rights reserved.',
        
        # Auth
        'full_name': 'Full name',
        'email': 'Email',
        'password': 'Password',
        'create_account': 'Create my account',
        'already_account': 'Already have an account?',
        'no_account': 'Don\'t have an account yet?',
        'sign_in': 'Sign in',
        'sign_up': 'Sign up',
        
        # Messages
        'account_created': 'Account created successfully! You have 3 free stories.',
        'login_success': 'Login successful!',
        'no_credits': 'You have no free credits left. Subscribe to continue.',
        'story_generated': 'Story generated successfully!',
        
        # Language
        'language': 'Language',
        'french': 'French',
        'english': 'English'
    }
}

def get_text(key, lang='fr', **kwargs):
    """Récupère un texte traduit avec support des variables"""
    text = TRANSLATIONS.get(lang, TRANSLATIONS['fr']).get(key, key)
    if kwargs:
        try:
            return text.format(**kwargs)
        except:
            return text
    return text

def get_current_language():
    """Récupère la langue actuelle depuis la session"""
    from flask import session
    return session.get('language', 'fr')

def set_language(lang):
    """Définit la langue dans la session"""
    from flask import session
    if lang in ['fr', 'en']:
        session['language'] = lang
        return True
    return False

